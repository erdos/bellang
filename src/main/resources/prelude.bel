
(set mac
   (lit mac (lit clo nil (name args body)
        `(set ,name (lit mac (lit clo nil ,args ,body))))))

(mac fn (args body) `(lit clo ,scope ,args ,body))

(mac def (name args body) `(set ,name (fn ,args ,body)))

(def join ((o x) (o y)) (join x y))
(def car (x) (car x))
(def cdr (x) (cdr x))

(mac quote (y) (join 'quote (join y nil)))
(mac lit (x) `(lit ,x))
(mac apply x (join apply x))

(mac let (k v body) `((fn (,k) ,body) ,v))
